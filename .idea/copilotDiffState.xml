<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/Paint/Paint/src/paint/controller/FXMLDocumentController.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Paint/Paint/src/paint/controller/FXMLDocumentController.java" />
              <option name="originalContent" value="&#10;package paint.controller;&#10;&#10;&#10;import java.io.IOException;&#10;import java.net.URL;&#10;import java.util.ArrayList;&#10;import java.util.List;&#10;import java.util.ResourceBundle;&#10;import java.util.Stack;&#10;import java.util.logging.Level;&#10;import java.util.logging.Logger;&#10;import javafx.collections.FXCollections;&#10;import javafx.collections.ObservableList;&#10;import javafx.event.ActionEvent;&#10;import javafx.fxml.FXML;&#10;import javafx.fxml.Initializable;&#10;import javafx.geometry.Point2D;&#10;import javafx.scene.control.Button;&#10;import javafx.scene.control.ColorPicker;&#10;import javafx.scene.control.ComboBox;&#10;import javafx.scene.layout.GridPane;&#10;import javafx.scene.layout.Pane;&#10;import javafx.scene.canvas.*;&#10;import javafx.scene.control.Label;&#10;import javafx.scene.control.ListView;&#10;import javafx.scene.control.TextField;&#10;import javafx.scene.input.MouseEvent;&#10;import javafx.scene.paint.*;&#10;import javax.xml.parsers.ParserConfigurationException;&#10;import org.xml.sax.SAXException;&#10;import paint.model.*;&#10;&#10;&#10;public class FXMLDocumentController implements Initializable, DrawingEngine {&#10;  &#10;    /***FXML VARIABLES***/&#10;    @FXML&#10;    private Button DeleteBtn;&#10;&#10;    @FXML&#10;    private ComboBox&lt;String&gt; ShapeBox;&#10;&#10;    @FXML&#10;    private Button UndoBtn;&#10;&#10;    @FXML&#10;    private Button RedoBtn;&#10;&#10;    @FXML&#10;    private ColorPicker ColorBox;&#10;&#10;    @FXML&#10;    private Button SaveBtn;&#10;    &#10;    @FXML&#10;    private Button MoveBtn;&#10;    &#10;    @FXML&#10;    private Button RecolorBtn;&#10;    &#10;    @FXML&#10;    private Button LoadBtn;&#10;    &#10;    @FXML&#10;    private GridPane After;&#10;    &#10;    @FXML&#10;    private Pane Before;&#10;    &#10;    @FXML&#10;    private Pane PathPane;&#10;    &#10;    @FXML&#10;    private TextField PathText;&#10;&#10;    @FXML&#10;    private Button StartBtn;&#10;    &#10;    @FXML&#10;    private Button ResizeBtn;&#10;    &#10;    @FXML&#10;    private Button ImportBtn;&#10;    &#10;    @FXML&#10;    private Button PathBtn;&#10;    &#10;    @FXML&#10;    private Canvas CanvasBox;&#10;    &#10;    @FXML&#10;    private Button CopyBtn;&#10;    &#10;    @FXML&#10;    private Label Message;&#10;    &#10;    @FXML&#10;    private ListView ShapeList;&#10;    &#10;    &#10;    &#10;    /***CLASS VARIABLES***/&#10;    private Point2D start;&#10;    private Point2D end;&#10;    &#10;    //SINGLETON DP&#10;    private static ArrayList&lt;Shape&gt; shapeList = new ArrayList&lt;&gt;();&#10;    &#10;    private boolean move=false;&#10;    private boolean copy=false;&#10;    private boolean resize=false;&#10;    private boolean save=false;&#10;    private boolean load=false;&#10;    private boolean importt =false;&#10;    &#10;    //MEMENTO DP&#10;    private Stack primary = new Stack&lt;ArrayList&lt;Shape&gt;&gt;();&#10;    private Stack secondary = new Stack&lt;ArrayList&lt;Shape&gt;&gt;();&#10;&#10;&#10;    &#10;    @FXML&#10;    private void handleButtonAction(ActionEvent event) {&#10;        if(event.getSource() == StartBtn){&#10;            Before.setVisible(false);&#10;            After.setVisible(true);&#10;        }&#10;        &#10;        Message.setText(&quot;&quot;);&#10;        if(event.getSource()==DeleteBtn){&#10;            if(!ShapeList.getSelectionModel().isEmpty()){&#10;            int index = ShapeList.getSelectionModel().getSelectedIndex();&#10;            removeShape(shapeList.get(index));&#10;            }else{&#10;                Message.setText(&quot;You need to pick a shape first to delete it.&quot;);&#10;            }&#10;        }&#10;        &#10;        if(event.getSource()==RecolorBtn){&#10;            if(!ShapeList.getSelectionModel().isEmpty()){&#10;                int index = ShapeList.getSelectionModel().getSelectedIndex();&#10;                shapeList.get(index).setFillColor(ColorBox.getValue());&#10;                refresh(CanvasBox);&#10;            }else{&#10;                Message.setText(&quot;You need to pick a shape first to recolor it.&quot;);&#10;            }&#10;        }&#10;        &#10;        if(event.getSource()==MoveBtn){&#10;            if(!ShapeList.getSelectionModel().isEmpty()){&#10;                move=true;&#10;                Message.setText(&quot;Click on the new top-left position below to move the selected shape.&quot;);&#10;            }else{&#10;                Message.setText(&quot;You need to pick a shape first to move it.&quot;);&#10;            }&#10;        }&#10;        &#10;        if(event.getSource()==CopyBtn){&#10;            if(!ShapeList.getSelectionModel().isEmpty()){&#10;                copy=true;&#10;                Message.setText(&quot;Click on the new top-left position below to copy the selected shape.&quot;);&#10;            }else{&#10;                Message.setText(&quot;You need to pick a shape first to copy it.&quot;);&#10;            }&#10;        }&#10;        &#10;        if(event.getSource()==ResizeBtn){&#10;            if(!ShapeList.getSelectionModel().isEmpty()){&#10;                resize=true;&#10;                Message.setText(&quot;Click on the new right-button position below to resize the selected shape.&quot;);&#10;            }else{&#10;                Message.setText(&quot;You need to pick a shape first to copy it.&quot;);&#10;            }&#10;        }&#10;        &#10;        if(event.getSource()==UndoBtn){&#10;            if(primary.empty()){Message.setText(&quot;We are back to zero point! .. Can Undo nothing more!&quot;);return;}&#10;            undo();&#10;        }&#10;        &#10;        if(event.getSource()==RedoBtn){&#10;            if(secondary.empty()){Message.setText(&quot;There is no more history for me to get .. Go search history books.&quot;);return;}&#10;            redo();&#10;        }&#10;        &#10;        if(event.getSource()==SaveBtn){&#10;            showPathPane();&#10;            save=true;&#10;        }&#10;        &#10;        if(event.getSource()==LoadBtn){&#10;            showPathPane();&#10;            load=true;&#10;        }&#10;        &#10;        if(event.getSource()==ImportBtn){&#10;            showPathPane();&#10;            importt=true;&#10;        }&#10;        &#10;        if(event.getSource()==PathBtn){&#10;            if(PathText.getText().isEmpty()){PathText.setText(&quot;You need to set the path of the file.&quot;);return;}&#10;            if(save){save=false;save(PathText.getText());}&#10;            else if(load){load=false;load(PathText.getText());}&#10;            else if(importt){importt=false;installPluginShape(PathText.getText());}&#10;            hidePathPane();&#10;        }&#10;    }&#10;    &#10;    public void showPathPane(){&#10;        Message.setVisible(false);&#10;        PathPane.setVisible(true);&#10;    }&#10;    &#10;    public void hidePathPane(){&#10;        PathPane.setVisible(false);&#10;        Message.setVisible(true);&#10;    }&#10;    &#10;    public void startDrag(MouseEvent event){&#10;        start = new Point2D(event.getX(),event.getY());&#10;        Message.setText(&quot;&quot;);&#10;    }&#10;    public void endDrag(MouseEvent event) throws CloneNotSupportedException{&#10;        end = new Point2D(event.getX(), event.getY());&#10;        if(end.equals(start)){clickFunction();}else{dragFunction();}&#10;    }&#10;    &#10;    public void clickFunction() throws CloneNotSupportedException{&#10;        if(move){move=false;moveFunction();}&#10;        else if(copy){copy=false;copyFunction();}&#10;        else if(resize){resize=false;resizeFunction();}&#10;    }&#10;    &#10;    public void moveFunction(){&#10;        int index = ShapeList.getSelectionModel().getSelectedIndex();&#10;        shapeList.get(index).setTopLeft(start);&#10;        refresh(CanvasBox);&#10;    }&#10;    &#10;    public void copyFunction() throws CloneNotSupportedException{&#10;        int index = ShapeList.getSelectionModel().getSelectedIndex();&#10;        Shape temp = shapeList.get(index).cloneShape();&#10;        if(temp.equals(null)){System.out.println(&quot;Error cloning failed!&quot;);}&#10;        else{&#10;            shapeList.add(temp);&#10;            shapeList.get(shapeList.size()-1).setTopLeft(start);&#10;            refresh(CanvasBox);&#10;        }&#10;    }&#10;    &#10;    public void resizeFunction(){&#10;        int index = ShapeList.getSelectionModel().getSelectedIndex();&#10;        Color c = shapeList.get(index).getFillColor();&#10;        start = shapeList.get(index).getTopLeft();&#10;        //Factory DP&#10;        Shape temp = new ShapeFactory().createShape(shapeList.get(index).getClass().getSimpleName(),start,end,ColorBox.getValue());&#10;        if(temp.getClass().getSimpleName().equals(&quot;Line&quot;)){Message.setText(&quot;Line doesn't support this command. Sorry :(&quot;);return;}&#10;        shapeList.remove(index);&#10;        temp.setFillColor(c);&#10;        shapeList.add(index, temp);&#10;        refresh(CanvasBox);&#10;        &#10;    }&#10;    &#10;    public void dragFunction(){&#10;        String type = ShapeBox.getValue();&#10;        Shape sh;&#10;        //Factory DP&#10;        try{sh = new ShapeFactory().createShape(type,start,end,ColorBox.getValue());}catch(Exception e)&#10;        {Message.setText(&quot;Don't be in a hurry! Choose a shape first :'D&quot;);return;}&#10;        addShape(sh);&#10;        sh.draw(CanvasBox);&#10;        &#10;    }&#10;    &#10;    &#10;    //Observer DP&#10;    public ObservableList getStringList(){&#10;        ObservableList l = FXCollections.observableArrayList(new ArrayList());&#10;        try{&#10;        for(int i=0;i&lt;shapeList.size();i++){&#10;            String temp = shapeList.get(i).getClass().getSimpleName() + &quot;  (&quot; + (int) shapeList.get(i).getTopLeft().getX() + &quot;,&quot; + (int) shapeList.get(i).getTopLeft().getY() + &quot;)&quot;;&#10;            l.add(temp);&#10;        }&#10;        }catch(Exception e){}&#10;        return l;&#10;    }&#10;    &#10;    public ArrayList&lt;Shape&gt; cloneList(ArrayList&lt;Shape&gt; l) throws CloneNotSupportedException{&#10;        ArrayList&lt;Shape&gt; temp = new ArrayList&lt;Shape&gt;();&#10;        for(int i=0;i&lt;l.size();i++){&#10;            temp.add(l.get(i).cloneShape());&#10;        }&#10;        return temp;&#10;    }&#10;    &#10;    &#10;    @Override&#10;    public void initialize(URL url, ResourceBundle rb) {&#10;        ObservableList shapeList = FXCollections.observableArrayList();&#10;        shapeList.add(&quot;Circle&quot;);shapeList.add(&quot;Ellipse&quot;);shapeList.add(&quot;Rectangle&quot;);shapeList.add(&quot;Square&quot;);shapeList.add(&quot;Triangle&quot;);shapeList.add(&quot;Line&quot;);&#10;        ShapeBox.setItems(shapeList);&#10;        &#10;        ColorBox.setValue(Color.BLACK);&#10;    }&#10;&#10;    @Override&#10;    public void refresh(Object canvas) {&#10;        try {&#10;            primary.push(new ArrayList(cloneList(shapeList)));&#10;        } catch (CloneNotSupportedException ex) {&#10;            Logger.getLogger(FXMLDocumentController.class.getName()).log(Level.SEVERE, null, ex);&#10;        }&#10;        redraw((Canvas) canvas);&#10;       ShapeList.setItems((getStringList()));&#10;    }&#10;    &#10;    public void redraw(Canvas canvas){&#10;        GraphicsContext gc = canvas.getGraphicsContext2D();&#10;        gc.clearRect(0, 0, 850, 370);&#10;        try{&#10;        for(int i=0;i&lt;shapeList.size();i++){&#10;            shapeList.get(i).draw(canvas);&#10;        }&#10;        }catch(Exception e){}&#10;    }&#10;&#10;    @Override&#10;    public void addShape(Shape shape) {&#10;        shapeList.add(shape);&#10;        refresh(CanvasBox);&#10;    }&#10;&#10;    @Override&#10;    public void removeShape(Shape shape) {&#10;        shapeList.remove(shape);&#10;        refresh(CanvasBox);&#10;    }&#10;&#10;    @Override&#10;    public void updateShape(Shape oldShape, Shape newShape) {&#10;        shapeList.remove(oldShape);&#10;        shapeList.add(newShape);&#10;        refresh(CanvasBox);&#10;    }&#10;&#10;    @Override&#10;    public Shape[] getShapes() {&#10;     return (Shape[]) shapeList.toArray();&#10;    }&#10;&#10;    @Override&#10;    public void undo() {&#10;        if(secondary.size()&lt;21){&#10;        ArrayList temp = (ArrayList) primary.pop();&#10;        secondary.push(temp);&#10;&#10;        if(primary.empty()){shapeList = new ArrayList();}&#10;        else{temp = (ArrayList) primary.peek(); shapeList = temp;}&#10;&#10;        redraw(CanvasBox);&#10;        ShapeList.setItems((getStringList()));&#10;        }else{Message.setText(&quot;Sorry, Cannot do more than 20 Undo's :'(&quot;);}&#10;    }&#10;&#10;    @Override&#10;    public void redo() {&#10;        ArrayList temp = (ArrayList) secondary.pop();&#10;        primary.push(temp);&#10;&#10;        temp = (ArrayList) primary.peek();&#10;        shapeList = temp;&#10;&#10;        redraw(CanvasBox);&#10;        ShapeList.setItems((getStringList()));&#10;    }&#10;&#10;    @Override&#10;    public void save(String path) {&#10;        if(path.substring(path.length()-4).equals(&quot;.xml&quot;)){&#10;            SaveToXML x = new SaveToXML(path,shapeList);&#10;            if(x.checkSuccess()){Message.setText(&quot;File Saved Successfully&quot;);}&#10;            else{Message.setText(&quot;Error happened while saving, please check the path and try again!&quot;);}&#10;        }&#10;        else if(path.substring(path.length()-5).equals(&quot;.json&quot;)){&#10;            Message.setText(&quot;Sorry, Json is not supported :(&quot;);&#10;        }&#10;        else{Message.setText(&quot;Wrong file format .. save to either .xml or .json&quot;);}&#10;  &#10;    }&#10;&#10;    @Override&#10;    public void load(String path) {&#10;        if(path.substring(path.length()-4).equals(&quot;.xml&quot;)){&#10;            try {&#10;                LoadFromXML l = new LoadFromXML(path);&#10;                if(l.checkSuccess()){&#10;                shapeList = l.getList();&#10;                refresh(CanvasBox);&#10;                Message.setText(&quot;File loaded successfully&quot;);&#10;                }&#10;                else{Message.setText(&quot;Error loading the file .. check the file path and try again!&quot;);}&#10;            } catch (SAXException ex) {&#10;                Logger.getLogger(FXMLDocumentController.class.getName()).log(Level.SEVERE, null, ex);&#10;            } catch (ParserConfigurationException ex) {&#10;                Logger.getLogger(FXMLDocumentController.class.getName()).log(Level.SEVERE, null, ex);&#10;            } catch (IOException ex) {&#10;                Logger.getLogger(FXMLDocumentController.class.getName()).log(Level.SEVERE, null, ex);&#10;            }&#10;            &#10;        }&#10;        else if(path.substring(path.length()-5).equals(&quot;.json&quot;)){&#10;            Message.setText(&quot;Sorry, Json is not supported :(&quot;);&#10;        }&#10;        else{Message.setText(&quot;Wrong file format .. load from either .xml or .json&quot;);}&#10;    }&#10;&#10;    @Override&#10;    public List&lt;Class&lt;? extends Shape&gt;&gt; getSupportedShapes() {&#10;        return null;&#10;    }&#10;&#10;    @Override&#10;    public void installPluginShape(String jarPath) {&#10;        Message.setText(&quot;Not supported yet.&quot;);&#10;    }&#10;&#10;    &#10;    &#10;}&#10;" />
              <option name="updatedContent" value="package paint.controller;&#10;&#10;&#10;import java.io.IOException;&#10;import java.net.URL;&#10;import java.util.ArrayList;&#10;import java.util.List;&#10;import java.util.ResourceBundle;&#10;import java.util.Stack;&#10;import java.util.logging.Level;&#10;import java.util.logging.Logger;&#10;import javafx.collections.FXCollections;&#10;import javafx.collections.ObservableList;&#10;import javafx.event.ActionEvent;&#10;import javafx.fxml.FXML;&#10;import javafx.fxml.Initializable;&#10;import javafx.geometry.Point2D;&#10;import javafx.scene.control.Button;&#10;import javafx.scene.control.ColorPicker;&#10;import javafx.scene.control.ComboBox;&#10;import javafx.scene.layout.GridPane;&#10;import javafx.scene.layout.Pane;&#10;import javafx.scene.canvas.*;&#10;import javafx.scene.control.Label;&#10;import javafx.scene.control.ListView;&#10;import javafx.scene.control.TextField;&#10;import javafx.scene.input.MouseEvent;&#10;import javafx.scene.paint.*;&#10;import javax.xml.parsers.ParserConfigurationException;&#10;import org.xml.sax.SAXException;&#10;import paint.model.*;&#10;&#10;&#10;public class FXMLDocumentController implements Initializable, DrawingEngine {&#10;  &#10;    /***FXML VARIABLES***/&#10;    @FXML&#10;    private Button DeleteBtn;&#10;&#10;    @FXML&#10;    private ComboBox&lt;String&gt; ShapeBox;&#10;&#10;    @FXML&#10;    private Button UndoBtn;&#10;&#10;    @FXML&#10;    private Button RedoBtn;&#10;&#10;    @FXML&#10;    private ColorPicker ColorBox;&#10;&#10;    @FXML&#10;    private Button SaveBtn;&#10;    &#10;    @FXML&#10;    private Button MoveBtn;&#10;    &#10;    @FXML&#10;    private Button RecolorBtn;&#10;    &#10;    @FXML&#10;    private Button LoadBtn;&#10;    &#10;    @FXML&#10;    private GridPane After;&#10;    &#10;    @FXML&#10;    private Pane Before;&#10;    &#10;    @FXML&#10;    private Pane PathPane;&#10;    &#10;    @FXML&#10;    private TextField PathText;&#10;&#10;    @FXML&#10;    private Button StartBtn;&#10;    &#10;    @FXML&#10;    private Button ResizeBtn;&#10;    &#10;    @FXML&#10;    private Button ImportBtn;&#10;    &#10;    @FXML&#10;    private Button PathBtn;&#10;    &#10;    @FXML&#10;    private Canvas CanvasBox;&#10;    &#10;    @FXML&#10;    private Button CopyBtn;&#10;    &#10;    @FXML&#10;    private Button GroupBtn;&#10;    &#10;    @FXML&#10;    private Button UngroupBtn;&#10;    &#10;    @FXML&#10;    private Label Message;&#10;    &#10;    @FXML&#10;    private ListView ShapeList;&#10;    &#10;    &#10;    &#10;    /***CLASS VARIABLES***/&#10;    private Point2D start;&#10;    private Point2D end;&#10;    &#10;    //SINGLETON DP&#10;    private static ArrayList&lt;Shape&gt; shapeList = new ArrayList&lt;&gt;();&#10;    &#10;    private boolean move=false;&#10;    private boolean copy=false;&#10;    private boolean resize=false;&#10;    private boolean save=false;&#10;    private boolean load=false;&#10;    private boolean importt =false;&#10;    &#10;    //MEMENTO DP&#10;    private Stack&lt;ArrayList&lt;Shape&gt;&gt; primary = new Stack&lt;&gt;();&#10;    private Stack&lt;ArrayList&lt;Shape&gt;&gt; secondary = new Stack&lt;&gt;();&#10;&#10;&#10;    &#10;    @FXML&#10;    private void handleButtonAction(ActionEvent event) {&#10;        if(event.getSource() == StartBtn){&#10;            Before.setVisible(false);&#10;            After.setVisible(true);&#10;        }&#10;        &#10;        Message.setText(&quot;&quot;);&#10;        if(event.getSource()==DeleteBtn){&#10;            if(!ShapeList.getSelectionModel().isEmpty()){&#10;            int index = ShapeList.getSelectionModel().getSelectedIndex();&#10;            removeShape(shapeList.get(index));&#10;            }else{&#10;                Message.setText(&quot;You need to pick a shape first to delete it.&quot;);&#10;            }&#10;        }&#10;        &#10;        if(event.getSource()==RecolorBtn){&#10;            if(!ShapeList.getSelectionModel().isEmpty()){&#10;                int index = ShapeList.getSelectionModel().getSelectedIndex();&#10;                shapeList.get(index).setFillColor(ColorBox.getValue());&#10;                refresh(CanvasBox);&#10;            }else{&#10;                Message.setText(&quot;You need to pick a shape first to recolor it.&quot;);&#10;            }&#10;        }&#10;        &#10;        if(event.getSource()==MoveBtn){&#10;            if(!ShapeList.getSelectionModel().isEmpty()){&#10;                move=true;&#10;                Message.setText(&quot;Click on the new top-left position below to move the selected shape.&quot;);&#10;            }else{&#10;                Message.setText(&quot;You need to pick a shape first to move it.&quot;);&#10;            }&#10;        }&#10;        &#10;        if(event.getSource()==CopyBtn){&#10;            if(!ShapeList.getSelectionModel().isEmpty()){&#10;                copy=true;&#10;                Message.setText(&quot;Click on the new top-left position below to copy the selected shape.&quot;);&#10;            }else{&#10;                Message.setText(&quot;You need to pick a shape first to copy it.&quot;);&#10;            }&#10;        }&#10;        &#10;        if(event.getSource()==ResizeBtn){&#10;            if(!ShapeList.getSelectionModel().isEmpty()){&#10;                resize=true;&#10;                Message.setText(&quot;Click on the new right-button position below to resize the selected shape.&quot;);&#10;            }else{&#10;                Message.setText(&quot;You need to pick a shape first to copy it.&quot;);&#10;            }&#10;        }&#10;        &#10;        if(event.getSource()==UndoBtn){&#10;            if(primary.empty()){Message.setText(&quot;We are back to zero point! .. Can Undo nothing more!&quot;);return;}&#10;            undo();&#10;        }&#10;        &#10;        if(event.getSource()==RedoBtn){&#10;            if(secondary.empty()){Message.setText(&quot;There is no more history for me to get .. Go search history books.&quot;);return;}&#10;            redo();&#10;        }&#10;        &#10;        if(event.getSource()==SaveBtn){&#10;            showPathPane();&#10;            save=true;&#10;        }&#10;        &#10;        if(event.getSource()==LoadBtn){&#10;            showPathPane();&#10;            load=true;&#10;        }&#10;        &#10;        if(event.getSource()==ImportBtn){&#10;            showPathPane();&#10;            importt=true;&#10;        }&#10;        &#10;        if(event.getSource()==PathBtn){&#10;            if(PathText.getText().isEmpty()){PathText.setText(&quot;You need to set the path of the file.&quot;);return;}&#10;            if(save){save=false;save(PathText.getText());}&#10;            else if(load){load=false;load(PathText.getText());}&#10;            else if(importt){importt=false;installPluginShape(PathText.getText());}&#10;            hidePathPane();&#10;        }&#10;        &#10;        if(event.getSource()==GroupBtn){&#10;            handleGroup();&#10;        }&#10;        if(event.getSource()==UngroupBtn){&#10;            handleUngroup();&#10;        }&#10;    }&#10;    &#10;    public void showPathPane(){&#10;        Message.setVisible(false);&#10;        PathPane.setVisible(true);&#10;    }&#10;    &#10;    public void hidePathPane(){&#10;        PathPane.setVisible(false);&#10;        Message.setVisible(true);&#10;    }&#10;    &#10;    public void startDrag(MouseEvent event){&#10;        start = new Point2D(event.getX(),event.getY());&#10;        Message.setText(&quot;&quot;);&#10;    }&#10;    public void endDrag(MouseEvent event) throws CloneNotSupportedException{&#10;        end = new Point2D(event.getX(), event.getY());&#10;        if(end.equals(start)){clickFunction();}else{dragFunction();}&#10;    }&#10;    &#10;    public void clickFunction() throws CloneNotSupportedException{&#10;        if(move){move=false;moveFunction();}&#10;        else if(copy){copy=false;copyFunction();}&#10;        else if(resize){resize=false;resizeFunction();}&#10;    }&#10;    &#10;    public void moveFunction(){&#10;        int index = ShapeList.getSelectionModel().getSelectedIndex();&#10;        shapeList.get(index).setTopLeft(start);&#10;        refresh(CanvasBox);&#10;    }&#10;    &#10;    public void copyFunction() throws CloneNotSupportedException{&#10;        int index = ShapeList.getSelectionModel().getSelectedIndex();&#10;        Shape temp = shapeList.get(index).cloneShape();&#10;        if(temp.equals(null)){System.out.println(&quot;Error cloning failed!&quot;);}&#10;        else{&#10;            shapeList.add(temp);&#10;            shapeList.get(shapeList.size()-1).setTopLeft(start);&#10;            refresh(CanvasBox);&#10;        }&#10;    }&#10;    &#10;    public void resizeFunction(){&#10;        int index = ShapeList.getSelectionModel().getSelectedIndex();&#10;        Color c = shapeList.get(index).getFillColor();&#10;        start = shapeList.get(index).getTopLeft();&#10;        //Factory DP&#10;        Shape temp = new ShapeFactory().createShape(shapeList.get(index).getClass().getSimpleName(),start,end,ColorBox.getValue());&#10;        if(temp.getClass().getSimpleName().equals(&quot;Line&quot;)){Message.setText(&quot;Line doesn't support this command. Sorry :(&quot;);return;}&#10;        shapeList.remove(index);&#10;        temp.setFillColor(c);&#10;        shapeList.add(index, temp);&#10;        refresh(CanvasBox);&#10;        &#10;    }&#10;    &#10;    public void dragFunction(){&#10;        String type = ShapeBox.getValue();&#10;        Shape sh;&#10;        //Factory DP&#10;        try{sh = new ShapeFactory().createShape(type,start,end,ColorBox.getValue());}catch(Exception e)&#10;        {Message.setText(&quot;Don't be in a hurry! Choose a shape first :'D&quot;);return;}&#10;        addShape(sh);&#10;        sh.draw(CanvasBox);&#10;        &#10;    }&#10;    &#10;    &#10;    //Observer DP&#10;    public ObservableList&lt;String&gt; getStringList(){&#10;        ObservableList&lt;String&gt; l = FXCollections.observableArrayList();&#10;        try{&#10;            for(Shape s : shapeList){&#10;                String temp = s.getClass().getSimpleName() + &quot;  (&quot; + (int) s.getTopLeft().getX() + &quot;,&quot; + (int) s.getTopLeft().getY() + &quot;)&quot;;&#10;                l.add(temp);&#10;            }&#10;        }catch(Exception e){/* ignore for now */}&#10;        return l;&#10;    }&#10;    &#10;    public ArrayList&lt;Shape&gt; cloneList(ArrayList&lt;Shape&gt; l) throws CloneNotSupportedException{&#10;        ArrayList&lt;Shape&gt; temp = new ArrayList&lt;Shape&gt;();&#10;        for(int i=0;i&lt;l.size();i++){&#10;            temp.add(l.get(i).cloneShape());&#10;        }&#10;        return temp;&#10;    }&#10;    &#10;    &#10;    @Override&#10;    public void initialize(URL url, ResourceBundle rb) {&#10;        ObservableList shapeList = FXCollections.observableArrayList();&#10;        shapeList.add(&quot;Circle&quot;);shapeList.add(&quot;Ellipse&quot;);shapeList.add(&quot;Rectangle&quot;);shapeList.add(&quot;Square&quot;);shapeList.add(&quot;Triangle&quot;);shapeList.add(&quot;Line&quot;);&#10;        ShapeBox.setItems(shapeList);&#10;        &#10;        ColorBox.setValue(Color.BLACK);&#10;    }&#10;&#10;    @Override&#10;    public void refresh(Object canvas) {&#10;        try {&#10;            primary.push(cloneList(shapeList));&#10;        } catch (CloneNotSupportedException ex) {&#10;            Logger.getLogger(FXMLDocumentController.class.getName()).log(Level.SEVERE, null, ex);&#10;        }&#10;        redraw((Canvas) canvas);&#10;        ShapeList.setItems(getStringList());&#10;    }&#10;    &#10;    public void redraw(Canvas canvas){&#10;        GraphicsContext gc = canvas.getGraphicsContext2D();&#10;        gc.clearRect(0, 0, 850, 370);&#10;        try{&#10;        for(int i=0;i&lt;shapeList.size();i++){&#10;            shapeList.get(i).draw(canvas);&#10;        }&#10;        }catch(Exception e){}&#10;    }&#10;&#10;    @Override&#10;    public void addShape(Shape shape) {&#10;        shapeList.add(shape);&#10;        refresh(CanvasBox);&#10;    }&#10;&#10;    @Override&#10;    public void removeShape(Shape shape) {&#10;        shapeList.remove(shape);&#10;        refresh(CanvasBox);&#10;    }&#10;&#10;    @Override&#10;    public void updateShape(Shape oldShape, Shape newShape) {&#10;        shapeList.remove(oldShape);&#10;        shapeList.add(newShape);&#10;        refresh(CanvasBox);&#10;    }&#10;&#10;    @Override&#10;    public Shape[] getShapes() {&#10;        return shapeList.toArray(new Shape[0]);&#10;    }&#10;&#10;    @Override&#10;    public void undo() {&#10;        if(secondary.size()&lt;21){&#10;            ArrayList&lt;Shape&gt; temp = primary.pop();&#10;            secondary.push(temp);&#10;            if(primary.empty()){shapeList = new ArrayList&lt;&gt;();}&#10;            else{shapeList = primary.peek();}&#10;            redraw(CanvasBox);&#10;            ShapeList.setItems(getStringList());&#10;        }else{Message.setText(&quot;Sorry, Cannot do more than 20 Undo's :'(&quot;);}&#10;    }&#10;&#10;    @Override&#10;    public void redo() {&#10;        ArrayList&lt;Shape&gt; temp = secondary.pop();&#10;        primary.push(temp);&#10;        shapeList = primary.peek();&#10;        redraw(CanvasBox);&#10;        ShapeList.setItems(getStringList());&#10;    }&#10;&#10;    @Override&#10;    public void save(String path) {&#10;        if(path.substring(path.length()-4).equals(&quot;.xml&quot;)){&#10;            SaveToXML x = new SaveToXML(path,shapeList);&#10;            if(x.checkSuccess()){Message.setText(&quot;File Saved Successfully&quot;);}&#10;            else{Message.setText(&quot;Error happened while saving, please check the path and try again!&quot;);}&#10;        }&#10;        else if(path.substring(path.length()-5).equals(&quot;.json&quot;)){&#10;            Message.setText(&quot;Sorry, Json is not supported :(&quot;);&#10;        }&#10;        else{Message.setText(&quot;Wrong file format .. save to either .xml or .json&quot;);}&#10;  &#10;    }&#10;&#10;    @Override&#10;    public void load(String path) {&#10;        if(path.substring(path.length()-4).equals(&quot;.xml&quot;)){&#10;            try {&#10;                LoadFromXML l = new LoadFromXML(path);&#10;                if(l.checkSuccess()){&#10;                shapeList = l.getList();&#10;                refresh(CanvasBox);&#10;                Message.setText(&quot;File loaded successfully&quot;);&#10;                }&#10;                else{Message.setText(&quot;Error loading the file .. check the file path and try again!&quot;);}&#10;            } catch (SAXException ex) {&#10;                Logger.getLogger(FXMLDocumentController.class.getName()).log(Level.SEVERE, null, ex);&#10;            } catch (ParserConfigurationException ex) {&#10;                Logger.getLogger(FXMLDocumentController.class.getName()).log(Level.SEVERE, null, ex);&#10;            } catch (IOException ex) {&#10;                Logger.getLogger(FXMLDocumentController.class.getName()).log(Level.SEVERE, null, ex);&#10;            }&#10;            &#10;        }&#10;        else if(path.substring(path.length()-5).equals(&quot;.json&quot;)){&#10;            Message.setText(&quot;Sorry, Json is not supported :(&quot;);&#10;        }&#10;        else{Message.setText(&quot;Wrong file format .. load from either .xml or .json&quot;);}&#10;    }&#10;&#10;    @Override&#10;    public List&lt;Class&lt;? extends Shape&gt;&gt; getSupportedShapes() {&#10;        return null;&#10;    }&#10;&#10;    @Override&#10;    public void installPluginShape(String jarPath) {&#10;        Message.setText(&quot;Not supported yet.&quot;);&#10;    }&#10;&#10;    private void handleGroup(){&#10;        if(shapeList.size()&lt;2){Message.setText(&quot;Need at least 2 shapes to group.&quot;);return;}&#10;        int idx = ShapeList.getSelectionModel().getSelectedIndex();&#10;        Shape a; Shape b;&#10;        if(idx==-1){&#10;            a = shapeList.get(shapeList.size()-1);&#10;            b = shapeList.get(shapeList.size()-2);&#10;        } else if(idx==shapeList.size()-1){&#10;            a = shapeList.get(idx);&#10;            b = shapeList.get(idx-1);&#10;        } else {&#10;            a = shapeList.get(idx);&#10;            b = shapeList.get(idx+1);&#10;        }&#10;        if(a instanceof GroupShape || b instanceof GroupShape){Message.setText(&quot;Cannot nest groups in this demo.&quot;);return;}&#10;        GroupShape g = new GroupShape(java.util.Arrays.asList(a,b));&#10;        shapeList.remove(a); shapeList.remove(b);&#10;        shapeList.add(g);&#10;        Message.setText(&quot;Composite group created.&quot;);&#10;        refresh(CanvasBox);&#10;    }&#10;    &#10;    private void handleUngroup(){&#10;        int idx = ShapeList.getSelectionModel().getSelectedIndex();&#10;        if(idx==-1){Message.setText(&quot;Select a group to ungroup.&quot;);return;}&#10;        Shape target = shapeList.get(idx);&#10;        if(!(target instanceof GroupShape)){Message.setText(&quot;Selected item not a group.&quot;);return;}&#10;        GroupShape g = (GroupShape) target;&#10;        shapeList.remove(g);&#10;        java.util.List&lt;Shape&gt; kids = g.getChildren();&#10;        for(int i=0;i&lt;kids.size();i++){ shapeList.add(idx+i, kids.get(i)); }&#10;        Message.setText(&quot;Group split into children.&quot;);&#10;        refresh(CanvasBox);&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/Paint/Paint/src/paint/controller/SaveToXML.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Paint/Paint/src/paint/controller/SaveToXML.java" />
              <option name="originalContent" value="&#10;package paint.controller;&#10;&#10;import java.io.File;&#10;import java.io.FileNotFoundException;&#10;import java.io.FileOutputStream;&#10;import java.util.ArrayList;&#10;import java.util.HashMap;&#10;import java.util.Map;&#10;import javax.xml.parsers.*;&#10;import javax.xml.transform.*;&#10;import javax.xml.transform.dom.*;&#10;import javax.xml.transform.stream.*;&#10;import org.xml.sax.*;&#10;import org.w3c.dom.*;&#10;import paint.model.Shape;&#10;&#10;public class SaveToXML {&#10;    private String path;&#10;    private Map&lt;String, Double&gt; m;&#10;    private ArrayList&lt;Shape&gt; l;&#10;    private boolean success=false;&#10;    &#10;    public SaveToXML(String path, ArrayList&lt;Shape&gt; l){&#10;        this.path = path;&#10;        this.l = l;&#10;        try{doTheJob();}catch(Exception e){System.out.println(&quot;Failed to save xml&quot;);}&#10;    }&#10;    &#10;    private void doTheJob() throws ParserConfigurationException, FileNotFoundException{&#10;        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();&#10;        DocumentBuilder db = dbf.newDocumentBuilder();&#10;        Document dom = db.newDocument();&#10;        Element rootEle = dom.createElement(&quot;root&quot;);&#10;        &#10;        for(int i=0;i&lt;l.size();i++){&#10;            m = l.get(i).getProperties();&#10;            Element sh = dom.createElement(l.get(i).getClass().getSimpleName());&#10;            for (Map.Entry&lt;String, Double&gt; entry : m.entrySet()) {&#10;                String key = entry.getKey();&#10;                Double value = entry.getValue();&#10;                sh.setAttribute(key, value.toString());&#10;            }&#10;            rootEle.appendChild(sh);&#10;        }&#10;        dom.appendChild(rootEle);&#10;        &#10;        &#10;        try {&#10;            Transformer tr = TransformerFactory.newInstance().newTransformer();&#10;            tr.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);&#10;            tr.setOutputProperty(OutputKeys.METHOD, &quot;xml&quot;);&#10;            tr.setOutputProperty(OutputKeys.ENCODING, &quot;UTF-8&quot;);&#10;&#10;            // send DOM to file&#10;            tr.transform(new DOMSource(dom), &#10;                                 new StreamResult(new FileOutputStream(path)));&#10;&#10;        } catch (Exception e) {&#10;            System.out.println(&quot;Failed to save the xml document&quot;);&#10;            success=false;&#10;            return;&#10;        }&#10;        &#10;        success=true;&#10;        &#10;    }&#10;    &#10;    public boolean checkSuccess(){&#10;        return success;&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package paint.controller;&#13;&#10;&#13;&#10;import java.io.File;&#13;&#10;import java.io.FileNotFoundException;&#13;&#10;import java.io.FileOutputStream;&#13;&#10;import java.util.ArrayList;&#13;&#10;import java.util.HashMap;&#13;&#10;import java.util.Map;&#13;&#10;import javax.xml.parsers.*;&#13;&#10;import javax.xml.transform.*;&#13;&#10;import javax.xml.transform.dom.*;&#13;&#10;import javax.xml.transform.stream.*;&#13;&#10;import org.xml.sax.*;&#13;&#10;import org.w3c.dom.*;&#13;&#10;import paint.model.Shape;&#13;&#10;import paint.model.GroupShape;&#13;&#10;&#13;&#10;public class SaveToXML {&#13;&#10;    private String path;&#13;&#10;    private Map&lt;String, Double&gt; m;&#13;&#10;    private ArrayList&lt;Shape&gt; l;&#13;&#10;    private boolean success=false;&#13;&#10;    &#13;&#10;    public SaveToXML(String path, ArrayList&lt;Shape&gt; l){&#13;&#10;        this.path = path;&#13;&#10;        this.l = l;&#13;&#10;        try{doTheJob();}catch(Exception e){System.out.println(&quot;Failed to save xml&quot;);}&#13;&#10;    }&#13;&#10;    &#13;&#10;    private void doTheJob() throws ParserConfigurationException, FileNotFoundException{&#13;&#10;        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();&#13;&#10;        DocumentBuilder db = dbf.newDocumentBuilder();&#13;&#10;        Document dom = db.newDocument();&#13;&#10;        Element rootEle = dom.createElement(&quot;root&quot;);&#13;&#10;        &#13;&#10;        for(int i=0;i&lt;l.size();i++){&#13;&#10;            Shape current = l.get(i);&#13;&#10;            if(current instanceof GroupShape){&#13;&#10;                // flatten group: save each child separately&#13;&#10;                GroupShape g = (GroupShape) current;&#13;&#10;                for(Shape child : g.getChildren()){&#13;&#10;                    m = child.getProperties();&#13;&#10;                    Element sh = dom.createElement(child.getClass().getSimpleName());&#13;&#10;                    for (Map.Entry&lt;String, Double&gt; entry : m.entrySet()) {&#13;&#10;                        String key = entry.getKey();&#13;&#10;                        Double value = entry.getValue();&#13;&#10;                        sh.setAttribute(key, value.toString());&#13;&#10;                    }&#13;&#10;                    rootEle.appendChild(sh);&#13;&#10;                }&#13;&#10;                continue; // skip the composite itself&#13;&#10;            }&#13;&#10;            m = current.getProperties();&#13;&#10;            Element sh = dom.createElement(current.getClass().getSimpleName());&#13;&#10;            for (Map.Entry&lt;String, Double&gt; entry : m.entrySet()) {&#13;&#10;                String key = entry.getKey();&#13;&#10;                Double value = entry.getValue();&#13;&#10;                sh.setAttribute(key, value.toString());&#13;&#10;            }&#13;&#10;            rootEle.appendChild(sh);&#13;&#10;        }&#13;&#10;        dom.appendChild(rootEle);&#13;&#10;        &#13;&#10;        &#13;&#10;        try {&#13;&#10;            Transformer tr = TransformerFactory.newInstance().newTransformer();&#13;&#10;            tr.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);&#13;&#10;            tr.setOutputProperty(OutputKeys.METHOD, &quot;xml&quot;);&#13;&#10;            tr.setOutputProperty(OutputKeys.ENCODING, &quot;UTF-8&quot;);&#13;&#10;&#13;&#10;            // send DOM to file&#13;&#10;            tr.transform(new DOMSource(dom), &#13;&#10;                                 new StreamResult(new FileOutputStream(path)));&#13;&#10;&#13;&#10;        } catch (Exception e) {&#13;&#10;            System.out.println(&quot;Failed to save the xml document&quot;);&#13;&#10;            success=false;&#13;&#10;            return;&#13;&#10;        }&#13;&#10;        &#13;&#10;        success=true;&#13;&#10;        &#13;&#10;    }&#13;&#10;    &#13;&#10;    public boolean checkSuccess(){&#13;&#10;        return success;&#13;&#10;    }&#13;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/Paint/Paint/src/paint/model/GroupShape.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Paint/Paint/src/paint/model/GroupShape.java" />
              <option name="updatedContent" value="package paint.model;&#10;&#10;import java.util.ArrayList;&#10;import java.util.List;&#10;import javafx.geometry.Point2D;&#10;import javafx.scene.canvas.Canvas;&#10;import javafx.scene.paint.Color;&#10;&#10;/* Composite Pattern: Treat a group of shapes as a single shape */&#10;public class GroupShape extends Shape {&#10;    private List&lt;Shape&gt; children = new ArrayList&lt;&gt;();&#10;&#10;    public GroupShape() {&#10;        // empty group&#10;    }&#10;&#10;    public GroupShape(List&lt;Shape&gt; shapes) {&#10;        if (shapes != null) {&#10;            for (Shape s : shapes) {&#10;                if (s != null) {&#10;                    children.add(s);&#10;                }&#10;            }&#10;        }&#10;    }&#10;&#10;    public void addChild(Shape s) { if (s != null) children.add(s); }&#10;    public void removeChild(Shape s) { children.remove(s); }&#10;    public List&lt;Shape&gt; getChildren() { return children; }&#10;&#10;    private Point2D computeTopLeft() {&#10;        if (children.isEmpty()) return new Point2D(0,0);&#10;        double minX = Double.POSITIVE_INFINITY, minY = Double.POSITIVE_INFINITY;&#10;        for (Shape s : children) {&#10;            Point2D tl = s.getTopLeft();&#10;            if (tl.getX() &lt; minX) minX = tl.getX();&#10;            if (tl.getY() &lt; minY) minY = tl.getY();&#10;        }&#10;        return new Point2D(minX, minY);&#10;    }&#10;&#10;    @Override&#10;    public Point2D getTopLeft() {&#10;        return computeTopLeft();&#10;    }&#10;&#10;    @Override&#10;    public void setTopLeft(Point2D pos) {&#10;        Point2D current = computeTopLeft();&#10;        Point2D delta = pos.subtract(current);&#10;        for (Shape s : children) {&#10;            Point2D childTL = s.getTopLeft();&#10;            s.setTopLeft(childTL.add(delta));&#10;        }&#10;        // don't call super.setTopLeft because we compute dynamically&#10;    }&#10;&#10;    @Override&#10;    public void setColor(Color color) {&#10;        for (Shape s : children) { s.setColor(color); }&#10;    }&#10;&#10;    @Override&#10;    public void setFillColor(Color color) {&#10;        for (Shape s : children) { s.setFillColor(color); }&#10;    }&#10;&#10;    @Override&#10;    public void draw(Canvas canvas) {&#10;        for (Shape s : children) {&#10;            s.draw(canvas);&#10;        }&#10;    }&#10;&#10;    @Override&#10;    public Shape cloneShape() throws CloneNotSupportedException {&#10;        GroupShape copy = (GroupShape) super.cloneShape();&#10;        // deep clone children&#10;        List&lt;Shape&gt; clonedChildren = new ArrayList&lt;&gt;();&#10;        for (Shape s : this.children) {&#10;            clonedChildren.add(s.cloneShape());&#10;        }&#10;        copy.children = clonedChildren;&#10;        return copy;&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/Paint/Paint/src/paint/view/FXMLDocument.fxml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Paint/Paint/src/paint/view/FXMLDocument.fxml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&#10;&lt;?import javafx.scene.image.*?&gt;&#10;&lt;?import javafx.scene.shape.*?&gt;&#10;&lt;?import javafx.scene.effect.*?&gt;&#10;&lt;?import javafx.scene.text.*?&gt;&#10;&lt;?import javafx.scene.canvas.*?&gt;&#10;&lt;?import java.lang.*?&gt;&#10;&lt;?import java.util.*?&gt;&#10;&lt;?import javafx.scene.*?&gt;&#10;&lt;?import javafx.scene.control.*?&gt;&#10;&lt;?import javafx.scene.layout.*?&gt;&#10;&#10;&lt;AnchorPane id=&quot;AnchorPane&quot; maxHeight=&quot;500.0&quot; maxWidth=&quot;1000.0&quot; minHeight=&quot;500.0&quot; minWidth=&quot;1000.0&quot; prefHeight=&quot;500.0&quot; prefWidth=&quot;1000.0&quot; xmlns=&quot;http://javafx.com/javafx/8&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;paint.controller.FXMLDocumentController&quot;&gt;&#10;   &lt;children&gt;&#10;      &lt;Pane fx:id=&quot;Before&quot; maxHeight=&quot;500.0&quot; maxWidth=&quot;1000.0&quot; minHeight=&quot;500.0&quot; minWidth=&quot;1000.0&quot; prefHeight=&quot;500.0&quot; prefWidth=&quot;1000.0&quot; style=&quot;-fx-background-color: #e9e9e9;&quot;&gt;&#10;         &lt;children&gt;&#10;            &lt;ImageView fitHeight=&quot;390.0&quot; fitWidth=&quot;925.0&quot; layoutX=&quot;38.0&quot; layoutY=&quot;80.0&quot;&gt;&#10;               &lt;image&gt;&#10;                  &lt;Image url=&quot;@img.png&quot; /&gt;&#10;               &lt;/image&gt;&#10;            &lt;/ImageView&gt;&#10;            &lt;Button fx:id=&quot;StartBtn&quot; layoutX=&quot;379.0&quot; layoutY=&quot;400.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleButtonAction&quot; prefHeight=&quot;64.0&quot; prefWidth=&quot;237.0&quot; style=&quot;-fx-background-color: #46C5E0;&quot; text=&quot;Start&quot; textAlignment=&quot;CENTER&quot; textFill=&quot;WHITE&quot;&gt;&#10;               &lt;font&gt;&#10;                  &lt;Font name=&quot;DejaVu Sans Bold&quot; size=&quot;30.0&quot; /&gt;&#10;               &lt;/font&gt;&#10;               &lt;cursor&gt;&#10;                  &lt;Cursor fx:constant=&quot;HAND&quot; /&gt;&#10;               &lt;/cursor&gt;&#10;            &lt;/Button&gt;&#10;            &lt;Label layoutX=&quot;329.0&quot; layoutY=&quot;36.0&quot; prefHeight=&quot;51.0&quot; prefWidth=&quot;342.0&quot; text=&quot;Paint Application&quot; textAlignment=&quot;CENTER&quot; textFill=&quot;#111111&quot;&gt;&#10;               &lt;font&gt;&#10;                  &lt;Font name=&quot;DejaVu Sans ExtraLight&quot; size=&quot;40.0&quot; /&gt;&#10;               &lt;/font&gt;&#10;            &lt;/Label&gt;&#10;         &lt;/children&gt;&lt;/Pane&gt;&#10;      &lt;GridPane fx:id=&quot;After&quot; maxHeight=&quot;500.0&quot; maxWidth=&quot;1000.0&quot; minHeight=&quot;500.0&quot; minWidth=&quot;1000.0&quot; prefHeight=&quot;500.0&quot; prefWidth=&quot;1000.0&quot; visible=&quot;false&quot;&gt;&#10;        &lt;columnConstraints&gt;&#10;          &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;&#10;        &lt;/columnConstraints&gt;&#10;        &lt;rowConstraints&gt;&#10;          &lt;RowConstraints maxHeight=&quot;50.0&quot; minHeight=&quot;50.0&quot; prefHeight=&quot;50.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;&#10;          &lt;RowConstraints maxHeight=&quot;400.0&quot; minHeight=&quot;400.0&quot; prefHeight=&quot;400.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;&#10;          &lt;RowConstraints maxHeight=&quot;50.0&quot; minHeight=&quot;50.0&quot; prefHeight=&quot;50.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;&#10;        &lt;/rowConstraints&gt;&#10;         &lt;children&gt;&#10;            &lt;HBox alignment=&quot;CENTER&quot; maxHeight=&quot;50.0&quot; maxWidth=&quot;1000.0&quot; minHeight=&quot;50.0&quot; minWidth=&quot;1000.0&quot; prefHeight=&quot;50.0&quot; prefWidth=&quot;1000.0&quot;&gt;&#10;               &lt;children&gt;&#10;                  &lt;ComboBox fx:id=&quot;ShapeBox&quot; maxHeight=&quot;50.0&quot; maxWidth=&quot;165.67&quot; minHeight=&quot;50.0&quot; minWidth=&quot;165.67&quot; nodeOrientation=&quot;LEFT_TO_RIGHT&quot; prefHeight=&quot;50.0&quot; prefWidth=&quot;165.67&quot; promptText=&quot;Shape&quot; style=&quot;-fx-background-radius: 0px; -fx-background-color: fcff99;&quot;&gt;&#10;                     &lt;cursor&gt;&#10;                        &lt;Cursor fx:constant=&quot;HAND&quot; /&gt;&#10;                     &lt;/cursor&gt;&#10;                  &lt;/ComboBox&gt;&#10;                  &lt;ColorPicker fx:id=&quot;ColorBox&quot; maxHeight=&quot;50.0&quot; maxWidth=&quot;166.67&quot; minHeight=&quot;50.0&quot; minWidth=&quot;166.67&quot; nodeOrientation=&quot;LEFT_TO_RIGHT&quot; prefHeight=&quot;50.0&quot; prefWidth=&quot;166.67&quot; promptText=&quot;Color&quot; style=&quot;-fx-background-radius: 0px; -fx-background-color: lightgreen;&quot;&gt;&#10;                     &lt;cursor&gt;&#10;                        &lt;Cursor fx:constant=&quot;HAND&quot; /&gt;&#10;                     &lt;/cursor&gt;&#10;                  &lt;/ColorPicker&gt;&#10;                  &lt;Button fx:id=&quot;RecolorBtn&quot; contentDisplay=&quot;CENTER&quot; maxHeight=&quot;50.0&quot; maxWidth=&quot;166.67&quot; minHeight=&quot;50.0&quot; minWidth=&quot;166.67&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleButtonAction&quot; prefHeight=&quot;50.0&quot; prefWidth=&quot;166.67&quot; style=&quot;-fx-background-radius: 0px; -fx-background-color: lightpink;&quot; styleClass=&quot;btns&quot; text=&quot;Recolor&quot;&gt;&#10;                     &lt;cursor&gt;&#10;                        &lt;Cursor fx:constant=&quot;HAND&quot; /&gt;&#10;                     &lt;/cursor&gt;&#10;                  &lt;/Button&gt;&#10;                  &lt;Button fx:id=&quot;MoveBtn&quot; contentDisplay=&quot;CENTER&quot; maxHeight=&quot;50.0&quot; maxWidth=&quot;166.67&quot; minHeight=&quot;50.0&quot; minWidth=&quot;166.67&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleButtonAction&quot; prefHeight=&quot;50.0&quot; prefWidth=&quot;166.67&quot; style=&quot;-fx-background-radius: 0px; -fx-background-color: lightblue;&quot; styleClass=&quot;btns&quot; text=&quot;Move&quot;&gt;&#10;                     &lt;cursor&gt;&#10;                        &lt;Cursor fx:constant=&quot;HAND&quot; /&gt;&#10;                     &lt;/cursor&gt;&#10;                  &lt;/Button&gt;&#10;                  &lt;Button fx:id=&quot;CopyBtn&quot; contentDisplay=&quot;CENTER&quot; maxHeight=&quot;50.0&quot; maxWidth=&quot;166.67&quot; minHeight=&quot;50.0&quot; minWidth=&quot;166.67&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleButtonAction&quot; prefHeight=&quot;50.0&quot; prefWidth=&quot;166.67&quot; style=&quot;-fx-background-radius: 0px; -fx-background-color: FED18C;&quot; styleClass=&quot;btns&quot; text=&quot;Copy&quot;&gt;&#10;                     &lt;cursor&gt;&#10;                        &lt;Cursor fx:constant=&quot;HAND&quot; /&gt;&#10;                     &lt;/cursor&gt;&#10;                  &lt;/Button&gt;&#10;                  &lt;Button fx:id=&quot;ResizeBtn&quot; contentDisplay=&quot;CENTER&quot; maxHeight=&quot;50.0&quot; maxWidth=&quot;165.67&quot; minHeight=&quot;50.0&quot; minWidth=&quot;165.67&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleButtonAction&quot; prefHeight=&quot;50.0&quot; prefWidth=&quot;165.67&quot; style=&quot;-fx-background-color: #e4b9d2; -fx-background-radius: 0px;&quot; styleClass=&quot;btns&quot; text=&quot;Resize&quot;&gt;&#10;                     &lt;cursor&gt;&#10;                        &lt;Cursor fx:constant=&quot;HAND&quot; /&gt;&#10;                     &lt;/cursor&gt;&#10;                  &lt;/Button&gt;&#10;               &lt;/children&gt;&#10;            &lt;/HBox&gt;&#10;            &lt;HBox alignment=&quot;CENTER&quot; maxHeight=&quot;50.0&quot; maxWidth=&quot;1000.0&quot; minHeight=&quot;50.0&quot; minWidth=&quot;1000.0&quot; prefHeight=&quot;50.0&quot; prefWidth=&quot;1000.0&quot; GridPane.rowIndex=&quot;2&quot;&gt;&#10;               &lt;children&gt;&#10;                  &lt;Button fx:id=&quot;LoadBtn&quot; maxHeight=&quot;50.0&quot; maxWidth=&quot;166.67&quot; minHeight=&quot;50.0&quot; minWidth=&quot;166.67&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleButtonAction&quot; prefHeight=&quot;50.0&quot; prefWidth=&quot;166.67&quot; style=&quot;-fx-background-radius: 0px; -fx-background-color: #fcff99;&quot; styleClass=&quot;btns&quot; text=&quot;Load&quot;&gt;&#10;                     &lt;cursor&gt;&#10;                        &lt;Cursor fx:constant=&quot;HAND&quot; /&gt;&#10;                     &lt;/cursor&gt;&#10;                  &lt;/Button&gt;&#10;                  &lt;Button fx:id=&quot;SaveBtn&quot; maxHeight=&quot;50.0&quot; maxWidth=&quot;166.67&quot; minHeight=&quot;50.0&quot; minWidth=&quot;166.67&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleButtonAction&quot; prefHeight=&quot;50.0&quot; prefWidth=&quot;166.67&quot; style=&quot;-fx-background-radius: 0px; -fx-background-color: lightgreen;&quot; styleClass=&quot;btns&quot; text=&quot;Save&quot;&gt;&#10;                     &lt;cursor&gt;&#10;                        &lt;Cursor fx:constant=&quot;HAND&quot; /&gt;&#10;                     &lt;/cursor&gt;&#10;                  &lt;/Button&gt;&#10;                  &lt;Button fx:id=&quot;DeleteBtn&quot; contentDisplay=&quot;CENTER&quot; maxHeight=&quot;50.0&quot; maxWidth=&quot;166.67&quot; minHeight=&quot;50.0&quot; minWidth=&quot;166.67&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleButtonAction&quot; prefHeight=&quot;50.0&quot; prefWidth=&quot;166.67&quot; style=&quot;-fx-background-radius: 0px; -fx-background-color: lightpink;&quot; styleClass=&quot;btns&quot; text=&quot;Delete&quot;&gt;&#10;                     &lt;cursor&gt;&#10;                        &lt;Cursor fx:constant=&quot;HAND&quot; /&gt;&#10;                     &lt;/cursor&gt;&#10;                  &lt;/Button&gt;&#10;                  &lt;Button fx:id=&quot;UndoBtn&quot; contentDisplay=&quot;CENTER&quot; maxHeight=&quot;50.0&quot; maxWidth=&quot;166.67&quot; minHeight=&quot;50.0&quot; minWidth=&quot;166.67&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleButtonAction&quot; prefHeight=&quot;50.0&quot; prefWidth=&quot;166.67&quot; style=&quot;-fx-background-radius: 0px; -fx-background-color: lightblue;&quot; styleClass=&quot;btns&quot; text=&quot;Undo&quot;&gt;&#10;                     &lt;cursor&gt;&#10;                        &lt;Cursor fx:constant=&quot;HAND&quot; /&gt;&#10;                     &lt;/cursor&gt;&#10;                  &lt;/Button&gt;&#10;                  &lt;Button fx:id=&quot;RedoBtn&quot; contentDisplay=&quot;CENTER&quot; maxHeight=&quot;50.0&quot; maxWidth=&quot;166.67&quot; minHeight=&quot;50.0&quot; minWidth=&quot;166.67&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleButtonAction&quot; prefHeight=&quot;50.0&quot; prefWidth=&quot;166.67&quot; style=&quot;-fx-background-radius: 0px; -fx-background-color: #FED18C;&quot; styleClass=&quot;btns&quot; text=&quot;Redo&quot;&gt;&#10;                     &lt;cursor&gt;&#10;                        &lt;Cursor fx:constant=&quot;HAND&quot; /&gt;&#10;                     &lt;/cursor&gt;&#10;                  &lt;/Button&gt;&#10;                  &lt;Button fx:id=&quot;ImportBtn&quot; contentDisplay=&quot;CENTER&quot; maxHeight=&quot;50.0&quot; maxWidth=&quot;165.67&quot; minHeight=&quot;50.0&quot; minWidth=&quot;165.67&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleButtonAction&quot; prefHeight=&quot;50.0&quot; prefWidth=&quot;165.67&quot; style=&quot;-fx-background-color: #e4b9d2; -fx-background-radius: 0px;&quot; styleClass=&quot;btns&quot; text=&quot;Import&quot;&gt;&#10;                     &lt;cursor&gt;&#10;                        &lt;Cursor fx:constant=&quot;HAND&quot; /&gt;&#10;                     &lt;/cursor&gt;&#10;                  &lt;/Button&gt;&#10;               &lt;/children&gt;&#10;            &lt;/HBox&gt;&#10;            &lt;GridPane maxHeight=&quot;400.0&quot; maxWidth=&quot;1000.0&quot; minHeight=&quot;400.0&quot; minWidth=&quot;1000.0&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;1000.0&quot; GridPane.rowIndex=&quot;1&quot;&gt;&#10;              &lt;columnConstraints&gt;&#10;                &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;833.33&quot; minWidth=&quot;833.33&quot; prefWidth=&quot;833.33&quot; /&gt;&#10;                &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;166.67&quot; minWidth=&quot;166.67&quot; prefWidth=&quot;166.67&quot; /&gt;&#10;              &lt;/columnConstraints&gt;&#10;              &lt;rowConstraints&gt;&#10;                &lt;RowConstraints maxHeight=&quot;400.0&quot; minHeight=&quot;400.0&quot; prefHeight=&quot;400.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;&#10;              &lt;/rowConstraints&gt;&#10;               &lt;children&gt;&#10;                  &lt;ListView fx:id=&quot;ShapeList&quot; maxHeight=&quot;400.0&quot; maxWidth=&quot;166.67&quot; minHeight=&quot;400.0&quot; minWidth=&quot;166.67&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;166.67&quot; GridPane.columnIndex=&quot;1&quot;&gt;&#10;                     &lt;cursor&gt;&#10;                        &lt;Cursor fx:constant=&quot;HAND&quot; /&gt;&#10;                     &lt;/cursor&gt;&#10;                  &lt;/ListView&gt;&#10;                  &lt;GridPane maxHeight=&quot;400.0&quot; maxWidth=&quot;850.0&quot; minHeight=&quot;400.0&quot; minWidth=&quot;850.0&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;850.0&quot;&gt;&#10;                    &lt;columnConstraints&gt;&#10;                      &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;833.33&quot; minWidth=&quot;833.33&quot; prefWidth=&quot;833.33&quot; /&gt;&#10;                    &lt;/columnConstraints&gt;&#10;                    &lt;rowConstraints&gt;&#10;                      &lt;RowConstraints maxHeight=&quot;30.0&quot; minHeight=&quot;30.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;&#10;                      &lt;RowConstraints maxHeight=&quot;370.0&quot; minHeight=&quot;370.0&quot; prefHeight=&quot;370.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;&#10;                    &lt;/rowConstraints&gt;&#10;                     &lt;children&gt;&#10;                        &lt;Label fx:id=&quot;Message&quot; alignment=&quot;CENTER&quot; contentDisplay=&quot;CENTER&quot; maxHeight=&quot;30.0&quot; maxWidth=&quot;833.33&quot; minHeight=&quot;30.0&quot; minWidth=&quot;833.33&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;833.33&quot; text=&quot;Pick a shape, then drag below to draw ;)&quot; textAlignment=&quot;CENTER&quot;&gt;&#10;                           &lt;font&gt;&#10;                              &lt;Font name=&quot;Monospaced Regular&quot; size=&quot;15.0&quot; /&gt;&#10;                           &lt;/font&gt;&#10;                        &lt;/Label&gt;&#10;                        &lt;Canvas fx:id=&quot;CanvasBox&quot; height=&quot;370.0&quot; onMousePressed=&quot;#startDrag&quot; onMouseReleased=&quot;#endDrag&quot; width=&quot;833.33&quot; GridPane.rowIndex=&quot;1&quot;&gt;&#10;                           &lt;cursor&gt;&#10;                              &lt;Cursor fx:constant=&quot;CROSSHAIR&quot; /&gt;&#10;                           &lt;/cursor&gt;&#10;                        &lt;/Canvas&gt;&#10;                        &lt;Pane fx:id=&quot;PathPane&quot; maxHeight=&quot;30.0&quot; maxWidth=&quot;833.33&quot; minHeight=&quot;30.0&quot; minWidth=&quot;833.33&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;833.33&quot; visible=&quot;false&quot;&gt;&#10;                           &lt;children&gt;&#10;                              &lt;TextField fx:id=&quot;PathText&quot; alignment=&quot;CENTER&quot; layoutX=&quot;1.0&quot; layoutY=&quot;2.0&quot; maxHeight=&quot;30.0&quot; maxWidth=&quot;666.66&quot; minHeight=&quot;30.0&quot; minWidth=&quot;666.66&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;666.66&quot; promptText=&quot;Enter path of the file here...&quot; style=&quot;-fx-background-radius: 0px; -fx-background-color: white;&quot; /&gt;&#10;                              &lt;Button fx:id=&quot;PathBtn&quot; layoutX=&quot;668.0&quot; maxHeight=&quot;30.0&quot; maxWidth=&quot;166.0&quot; minHeight=&quot;30.0&quot; minWidth=&quot;166.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleButtonAction&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;166.0&quot; style=&quot;-fx-background-radius: 0px; -fx-background-color: #e3e3e3;&quot; styleClass=&quot;btns&quot; text=&quot;Submit&quot;&gt;&#10;                                 &lt;cursor&gt;&#10;                                    &lt;Cursor fx:constant=&quot;HAND&quot; /&gt;&#10;                                 &lt;/cursor&gt;&#10;                              &lt;/Button&gt;&#10;                           &lt;/children&gt;&#10;                        &lt;/Pane&gt;&#10;                     &lt;/children&gt;&#10;                  &lt;/GridPane&gt;&#10;               &lt;/children&gt;&#10;            &lt;/GridPane&gt;&#10;         &lt;/children&gt;&#10;      &lt;/GridPane&gt;&#10;   &lt;/children&gt;&#10;&lt;/AnchorPane&gt;&#10;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&#10;&lt;?import javafx.scene.image.*?&gt;&#10;&lt;?import javafx.scene.shape.*?&gt;&#10;&lt;?import javafx.scene.effect.*?&gt;&#10;&lt;?import javafx.scene.text.*?&gt;&#10;&lt;?import javafx.scene.canvas.*?&gt;&#10;&lt;?import java.lang.*?&gt;&#10;&lt;?import java.util.*?&gt;&#10;&lt;?import javafx.scene.*?&gt;&#10;&lt;?import javafx.scene.control.*?&gt;&#10;&lt;?import javafx.scene.layout.*?&gt;&#10;&#10;&lt;AnchorPane id=&quot;AnchorPane&quot; maxHeight=&quot;500.0&quot; maxWidth=&quot;1000.0&quot; minHeight=&quot;500.0&quot; minWidth=&quot;1000.0&quot; prefHeight=&quot;500.0&quot; prefWidth=&quot;1000.0&quot; xmlns=&quot;http://javafx.com/javafx/8&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;paint.controller.FXMLDocumentController&quot;&gt;&#10;   &lt;children&gt;&#10;      &lt;Pane fx:id=&quot;Before&quot; maxHeight=&quot;500.0&quot; maxWidth=&quot;1000.0&quot; minHeight=&quot;500.0&quot; minWidth=&quot;1000.0&quot; prefHeight=&quot;500.0&quot; prefWidth=&quot;1000.0&quot; style=&quot;-fx-background-color: #e9e9e9;&quot;&gt;&#10;         &lt;children&gt;&#10;            &lt;ImageView fitHeight=&quot;390.0&quot; fitWidth=&quot;925.0&quot; layoutX=&quot;38.0&quot; layoutY=&quot;80.0&quot;&gt;&#10;               &lt;image&gt;&#10;                  &lt;Image url=&quot;@img.png&quot; /&gt;&#10;               &lt;/image&gt;&#10;            &lt;/ImageView&gt;&#10;            &lt;Button fx:id=&quot;StartBtn&quot; layoutX=&quot;379.0&quot; layoutY=&quot;400.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleButtonAction&quot; prefHeight=&quot;64.0&quot; prefWidth=&quot;237.0&quot; style=&quot;-fx-background-color: #46C5E0;&quot; text=&quot;Start&quot; textAlignment=&quot;CENTER&quot; textFill=&quot;WHITE&quot;&gt;&#10;               &lt;font&gt;&#10;                  &lt;Font name=&quot;DejaVu Sans Bold&quot; size=&quot;30.0&quot; /&gt;&#10;               &lt;/font&gt;&#10;               &lt;cursor&gt;&#10;                  &lt;Cursor fx:constant=&quot;HAND&quot; /&gt;&#10;               &lt;/cursor&gt;&#10;            &lt;/Button&gt;&#10;            &lt;Label layoutX=&quot;329.0&quot; layoutY=&quot;36.0&quot; prefHeight=&quot;51.0&quot; prefWidth=&quot;342.0&quot; text=&quot;Paint Application&quot; textAlignment=&quot;CENTER&quot; textFill=&quot;#111111&quot;&gt;&#10;               &lt;font&gt;&#10;                  &lt;Font name=&quot;DejaVu Sans ExtraLight&quot; size=&quot;40.0&quot; /&gt;&#10;               &lt;/font&gt;&#10;            &lt;/Label&gt;&#10;         &lt;/children&gt;&lt;/Pane&gt;&#10;      &lt;GridPane fx:id=&quot;After&quot; maxHeight=&quot;500.0&quot; maxWidth=&quot;1000.0&quot; minHeight=&quot;500.0&quot; minWidth=&quot;1000.0&quot; prefHeight=&quot;500.0&quot; prefWidth=&quot;1000.0&quot; visible=&quot;false&quot;&gt;&#10;        &lt;columnConstraints&gt;&#10;          &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;&#10;        &lt;/columnConstraints&gt;&#10;        &lt;rowConstraints&gt;&#10;          &lt;RowConstraints maxHeight=&quot;50.0&quot; minHeight=&quot;50.0&quot; prefHeight=&quot;50.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;&#10;          &lt;RowConstraints maxHeight=&quot;400.0&quot; minHeight=&quot;400.0&quot; prefHeight=&quot;400.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;&#10;          &lt;RowConstraints maxHeight=&quot;50.0&quot; minHeight=&quot;50.0&quot; prefHeight=&quot;50.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;&#10;        &lt;/rowConstraints&gt;&#10;         &lt;children&gt;&#10;            &lt;HBox alignment=&quot;CENTER&quot; maxHeight=&quot;50.0&quot; maxWidth=&quot;1000.0&quot; minHeight=&quot;50.0&quot; minWidth=&quot;1000.0&quot; prefHeight=&quot;50.0&quot; prefWidth=&quot;1000.0&quot;&gt;&#10;               &lt;children&gt;&#10;                  &lt;ComboBox fx:id=&quot;ShapeBox&quot; prefWidth=&quot;130.0&quot; prefHeight=&quot;50.0&quot; promptText=&quot;Shape&quot; /&gt;&#10;                  &lt;ColorPicker fx:id=&quot;ColorBox&quot; prefWidth=&quot;130.0&quot; prefHeight=&quot;50.0&quot; /&gt;&#10;                  &lt;Button fx:id=&quot;RecolorBtn&quot; text=&quot;Recolor&quot; prefWidth=&quot;110.0&quot; prefHeight=&quot;50.0&quot; onAction=&quot;#handleButtonAction&quot; /&gt;&#10;                  &lt;Button fx:id=&quot;MoveBtn&quot; text=&quot;Move&quot; prefWidth=&quot;90.0&quot; prefHeight=&quot;50.0&quot; onAction=&quot;#handleButtonAction&quot; /&gt;&#10;                  &lt;Button fx:id=&quot;CopyBtn&quot; text=&quot;Copy&quot; prefWidth=&quot;90.0&quot; prefHeight=&quot;50.0&quot; onAction=&quot;#handleButtonAction&quot; /&gt;&#10;                  &lt;Button fx:id=&quot;ResizeBtn&quot; text=&quot;Resize&quot; prefWidth=&quot;90.0&quot; prefHeight=&quot;50.0&quot; onAction=&quot;#handleButtonAction&quot; /&gt;&#10;               &lt;/children&gt;&#10;            &lt;/HBox&gt;&#10;            &lt;!-- Replaced bottom HBox with FlowPane for wrapping --&gt;&#10;            &lt;FlowPane hgap=&quot;6.0&quot; vgap=&quot;6.0&quot; prefWrapLength=&quot;990&quot; maxHeight=&quot;70.0&quot; GridPane.rowIndex=&quot;2&quot;&gt;&#10;               &lt;children&gt;&#10;                  &lt;Button fx:id=&quot;LoadBtn&quot; text=&quot;Load&quot; prefWidth=&quot;90.0&quot; prefHeight=&quot;50.0&quot; onAction=&quot;#handleButtonAction&quot; /&gt;&#10;                  &lt;Button fx:id=&quot;SaveBtn&quot; text=&quot;Save&quot; prefWidth=&quot;90.0&quot; prefHeight=&quot;50.0&quot; onAction=&quot;#handleButtonAction&quot; /&gt;&#10;                  &lt;Button fx:id=&quot;DeleteBtn&quot; text=&quot;Delete&quot; prefWidth=&quot;90.0&quot; prefHeight=&quot;50.0&quot; onAction=&quot;#handleButtonAction&quot; /&gt;&#10;                  &lt;Button fx:id=&quot;UndoBtn&quot; text=&quot;Undo&quot; prefWidth=&quot;90.0&quot; prefHeight=&quot;50.0&quot; onAction=&quot;#handleButtonAction&quot; /&gt;&#10;                  &lt;Button fx:id=&quot;RedoBtn&quot; text=&quot;Redo&quot; prefWidth=&quot;90.0&quot; prefHeight=&quot;50.0&quot; onAction=&quot;#handleButtonAction&quot; /&gt;&#10;                  &lt;Button fx:id=&quot;ImportBtn&quot; text=&quot;Import&quot; prefWidth=&quot;90.0&quot; prefHeight=&quot;50.0&quot; onAction=&quot;#handleButtonAction&quot; /&gt;&#10;                  &lt;Button fx:id=&quot;GroupBtn&quot; text=&quot;Group&quot; prefWidth=&quot;90.0&quot; prefHeight=&quot;50.0&quot; onAction=&quot;#handleButtonAction&quot; /&gt;&#10;                  &lt;Button fx:id=&quot;UngroupBtn&quot; text=&quot;Ungroup&quot; prefWidth=&quot;90.0&quot; prefHeight=&quot;50.0&quot; onAction=&quot;#handleButtonAction&quot; /&gt;&#10;               &lt;/children&gt;&#10;            &lt;/FlowPane&gt;&#10;            &lt;GridPane maxHeight=&quot;400.0&quot; maxWidth=&quot;1000.0&quot; minHeight=&quot;400.0&quot; minWidth=&quot;1000.0&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;1000.0&quot; GridPane.rowIndex=&quot;1&quot;&gt;&#10;              &lt;columnConstraints&gt;&#10;                &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;833.33&quot; minWidth=&quot;833.33&quot; prefWidth=&quot;833.33&quot; /&gt;&#10;                &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;166.67&quot; minWidth=&quot;166.67&quot; prefWidth=&quot;166.67&quot; /&gt;&#10;              &lt;/columnConstraints&gt;&#10;              &lt;rowConstraints&gt;&#10;                &lt;RowConstraints maxHeight=&quot;400.0&quot; minHeight=&quot;400.0&quot; prefHeight=&quot;400.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;&#10;              &lt;/rowConstraints&gt;&#10;               &lt;children&gt;&#10;                  &lt;ListView fx:id=&quot;ShapeList&quot; maxHeight=&quot;400.0&quot; maxWidth=&quot;166.67&quot; minHeight=&quot;400.0&quot; minWidth=&quot;166.67&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;166.67&quot; GridPane.columnIndex=&quot;1&quot;&gt;&#10;                     &lt;cursor&gt;&#10;                        &lt;Cursor fx:constant=&quot;HAND&quot; /&gt;&#10;                     &lt;/cursor&gt;&#10;                  &lt;/ListView&gt;&#10;                  &lt;GridPane maxHeight=&quot;400.0&quot; maxWidth=&quot;850.0&quot; minHeight=&quot;400.0&quot; minWidth=&quot;850.0&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;850.0&quot;&gt;&#10;                    &lt;columnConstraints&gt;&#10;                      &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;833.33&quot; minWidth=&quot;833.33&quot; prefWidth=&quot;833.33&quot; /&gt;&#10;                    &lt;/columnConstraints&gt;&#10;                    &lt;rowConstraints&gt;&#10;                      &lt;RowConstraints maxHeight=&quot;30.0&quot; minHeight=&quot;30.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;&#10;                      &lt;RowConstraints maxHeight=&quot;370.0&quot; minHeight=&quot;370.0&quot; prefHeight=&quot;370.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;&#10;                    &lt;/rowConstraints&gt;&#10;                     &lt;children&gt;&#10;                        &lt;Label fx:id=&quot;Message&quot; alignment=&quot;CENTER&quot; contentDisplay=&quot;CENTER&quot; maxHeight=&quot;30.0&quot; maxWidth=&quot;833.33&quot; minHeight=&quot;30.0&quot; minWidth=&quot;833.33&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;833.33&quot; text=&quot;Pick a shape, then drag below to draw ;)&quot; textAlignment=&quot;CENTER&quot;&gt;&#10;                           &lt;font&gt;&#10;                              &lt;Font name=&quot;Monospaced Regular&quot; size=&quot;15.0&quot; /&gt;&#10;                           &lt;/font&gt;&#10;                        &lt;/Label&gt;&#10;                        &lt;Canvas fx:id=&quot;CanvasBox&quot; height=&quot;370.0&quot; onMousePressed=&quot;#startDrag&quot; onMouseReleased=&quot;#endDrag&quot; width=&quot;833.33&quot; GridPane.rowIndex=&quot;1&quot;&gt;&#10;                           &lt;cursor&gt;&#10;                              &lt;Cursor fx:constant=&quot;CROSSHAIR&quot; /&gt;&#10;                           &lt;/cursor&gt;&#10;                        &lt;/Canvas&gt;&#10;                        &lt;Pane fx:id=&quot;PathPane&quot; maxHeight=&quot;30.0&quot; maxWidth=&quot;833.33&quot; minHeight=&quot;30.0&quot; minWidth=&quot;833.33&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;833.33&quot; visible=&quot;false&quot;&gt;&#10;                           &lt;children&gt;&#10;                              &lt;TextField fx:id=&quot;PathText&quot; alignment=&quot;CENTER&quot; layoutX=&quot;1.0&quot; layoutY=&quot;2.0&quot; maxHeight=&quot;30.0&quot; maxWidth=&quot;666.66&quot; minHeight=&quot;30.0&quot; minWidth=&quot;666.66&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;666.66&quot; promptText=&quot;Enter path of the file here...&quot; style=&quot;-fx-background-radius: 0px; -fx-background-color: white;&quot; /&gt;&#10;                              &lt;Button fx:id=&quot;PathBtn&quot; layoutX=&quot;668.0&quot; maxHeight=&quot;30.0&quot; maxWidth=&quot;166.0&quot; minHeight=&quot;30.0&quot; minWidth=&quot;166.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleButtonAction&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;166.0&quot; style=&quot;-fx-background-radius: 0px; -fx-background-color: #e3e3e3;&quot; styleClass=&quot;btns&quot; text=&quot;Submit&quot;&gt;&#10;                                 &lt;cursor&gt;&#10;                                    &lt;Cursor fx:constant=&quot;HAND&quot; /&gt;&#10;                                 &lt;/cursor&gt;&#10;                              &lt;/Button&gt;&#10;                           &lt;/children&gt;&#10;                        &lt;/Pane&gt;&#10;                     &lt;/children&gt;&#10;                  &lt;/GridPane&gt;&#10;               &lt;/children&gt;&#10;            &lt;/GridPane&gt;&#10;         &lt;/children&gt;&#10;      &lt;/GridPane&gt;&#10;   &lt;/children&gt;&#10;&lt;/AnchorPane&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>